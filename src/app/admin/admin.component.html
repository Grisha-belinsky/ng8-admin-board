<div class="main-content">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="#" class="link">Home</a>
            </li>
            <li class="breadcrumb-item active">
                <a href="#" class="link">Dashboard V1</a>
            </li>
        </ol>
    </nav>
    <hr>
    <div class="row">
        <div class="col-md-12" *ngIf="chartDataLoaded">
            <div class="card bg-secondary mb-3">
                <div class="card-header">
                    <h4 class="card-title mb-0 text-center">Line Chart Example</h4>
                </div>
                <div class="card-body">
                    <canvas baseChart  width="1200" height="300"
                        [datasets]="lineChartData" 
                        [labels]="lineChartLabels" 
                        [options]="lineChartOptions"
                        [colors]="lineChartColors" 
                        [legend]="lineChartLegend" 
                        [chartType]="lineChartType" 
                        [plugins]="lineChartPlugins">
                    </canvas>
                </div>
            </div>
        </div>
        <!--
        <div class="col-md-4">
            <div class="card bg-secondary mb-3">
                <div class="card-header">
                    <h4 class="card-title mb-0 text-center">Bar Chart Example</h4>
                </div>
                <div class="card-body">
                    <canvas baseChart 
                        [datasets]="barChartData"
                        [labels]="barChartLabels"
                        [options]="barChartOptions"
                        [plugins]="barChartPlugins"
                        [legend]="barChartLegend"
                        [chartType]="barChartType">
                    </canvas>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="pie-chart-wrap">
                <div class="card bg-secondary mb-3">
                    <div class="card-header">
                        <h4 class="card-title mb-0 text-center">Pie Chart Example</h4>
                    </div>
                    <div class="card-body">
                        <div class="chart-wrapper">
                            <canvas baseChart 
                                [data]="pieChartData" 
                                [labels]="pieChartLabels" 
                                [chartType]="pieChartType"
                                [options]="pieChartOptions"
                                [plugins]="pieChartPlugins"
                                [legend]="pieChartLegend">
                            </canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        -->
    </div>
    <div class="row mt-4" *ngIf="tableDataLoaded">
        <div class="col-md-12">
            <div class="table-wrap">
                <div class="card bg-secondary mb-3">
                    <div class="card-header">
                        <h4 class="card-title mb-0">Table Example</h4>
                    </div>
                    <div class="card-body">
                        <div class="table-wrap pt-4">
                            <table class="table table-hover table-striped">
                                <thead>
                                    <tr>
                                        <th scope="col">Col1</th>
                                        <th scope="col">Col2</th>
                                        <th scope="col">Edit</th>
                                        <th scope="col">Delete</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of tData">
                                        <th scope="row">{{item.col1}}</th>
                                        <td>{{item.col2}}</td>
                                        <td><button type="button" class="btn btn-success" (click)="open(mymodal, item)">Edit</button></td>
                                        <td>
                                            <button type="button" class="btn btn-danger" (click)="delete(item.id)">
                                                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                                                Delete
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <ng-template #mymodal let-modal>
                <form [formGroup]="editForm" (ngSubmit)="onSubmit()" class="form-edit">
                    <div class="modal-header">
                        <h4 class="modal-title" id="modal-basic-title">Bootstrap Modal</h4>
                        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                        <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="col-form-label" for="username">Col1</label>
                            <input type="text" formControlName="col1" class="form-control" placeholder="Col1..." id="col1" [(ngModel)]="modalData.col1">
                        </div>
                        <div class="form-group">
                            <label class="col-form-label" for="date">Col2</label>
                            <input type="text" formControlName="col2" class="form-control" placeholder="Col2..." id="col2" [(ngModel)]="modalData.col2">
                        </div>
                        <input type="hidden" formControlName="id" [(ngModel)]="modalData.id">
                    </div>
                    <div class="modal-footer">
                        <div class="form-group">
                            <button type="submit" [disabled]="loading" class="btn btn-lg btn-primary btn-block text-uppercase">
                                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                                Save
                            </button>
                        </div>
                    </div>
                </form>
            </ng-template>
        </div>
    </div>
</div>